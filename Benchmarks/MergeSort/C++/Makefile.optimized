-include ../Makefile.defaults

compile:
	g++ optimized.cpp -o optimized -O3 -fopenmp -Wall -Wextra -g

clean:
	rm optimized

measure:
ifndef JSON
	$(error No JSON defined.)
else ifndef ARGS
	$(error No ARGS defined.)
endif
	@../../../RAPL/build/rapl --json "$(JSON)" ./optimized $(ARGS)

command:
ifndef ARGS
	$(error No ARGS defined.)
endif
	@echo ./optimized $(ARGS)